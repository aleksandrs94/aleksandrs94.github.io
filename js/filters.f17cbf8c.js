(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["filters"],{"2bb9":function(t,e,i){},"35ce":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"filters"},[e("div",{staticClass:"filters__header-outer"},[e("header",{staticClass:"filters__header",attrs:{tabindex:"0",role:"button","aria-expanded":String(t.isExpanded)},on:{click:t.toggleExpansion,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:(e.preventDefault(),t.toggleExpansion.apply(null,arguments))}}},[e("span",{staticClass:"filters__chevron",class:{"is-open":t.isExpanded},attrs:{"aria-hidden":"true"}},[t._v(" â–º ")]),e("div",[e("h4",{staticClass:"filters__title"},[t._v(" "+t._s(t.label)+" ")]),e("strong",{staticClass:"filters__meta"},[t._v(" "+t._s(t.description)+" ")])])]),t.hasActiveFilters?e("button",{staticClass:"filters-clear",attrs:{type:"reset",title:"Clear all filters","aria-label":"Clear all filters"},on:{click:function(e){return e.stopPropagation(),t.clearFilters.apply(null,arguments)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:(e.preventDefault(),e.stopPropagation(),t.clearFilters.apply(null,arguments))}}},[t._v(" Clear all ")]):t._e()]),e("div",{staticClass:"filters__content",class:{"is-open":t.isExpanded}},[e("div",{staticClass:"filters__content-inner"},[e("div",{staticClass:"filter-row"},[e("SortFilter",{model:{value:t.sortOrder,callback:function(e){t.sortOrder=e},expression:"sortOrder"}})],1),e("div",{staticClass:"filter-row"},[e("SkillFilter",{attrs:{skills:t.allSkills,"skill-counts":t.skillCounts,"active-skills":t.activeSkills},on:{onSkillSelect:t.handleSkillSelection}})],1)])])])},n=[];function l(t){return c(t)||o(t)||s(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(t,e):void 0}}function o(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function c(t){if(Array.isArray(t))return u(t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=Array(e);i<e;i++)r[i]=t[i];return r}var d="desc",f=!1,p={job:"Work",education:"Education",certification:"Certification",project:"Project"},v={name:"Filters",components:{SortFilter:function(){return i.e("sort-filter").then(i.bind(null,"c46f"))},SkillFilter:function(){return i.e("skill-filter").then(i.bind(null,"413b"))}},props:{entries:{type:Array,default:function(){return[]}}},data:function(){return{label:"View Settings",description:"Explore my journey your way.",isExpanded:f,yearFilter:0,activeSkills:[],activeTypes:[],sortOrder:d,typeLabels:p}},computed:{filtersPayload:function(){return{yearFilter:this.yearFilter,activeSkills:l(this.activeSkills),activeTypes:l(this.activeTypes),sortOrder:this.sortOrder}},allSkills:function(){var t=this.filteredEntries.map((function(t){var e;return(null===t||void 0===t||null===(e=t.data)||void 0===e||null===(e=e.role)||void 0===e?void 0:e.skills)||[]})).flat();return Array.from(new Set(t)).sort((function(t,e){return t.localeCompare(e)}))},skillCounts:function(){return this.filteredEntries.reduce((function(t,e){var i,r=(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(i=i.role)||void 0===i?void 0:i.skills)||[];return r.forEach((function(e){t[e]=(t[e]||0)+1})),t}),{})},minStartYear:function(){var t=this.entries.map((function(t){var e;return null===t||void 0===t||null===(e=t.data)||void 0===e||null===(e=e.role)||void 0===e?void 0:e.startDate})).filter(Boolean).map((function(t){return new Date(t).getFullYear()}));return t.length?Math.min.apply(Math,l(t)):0},currentYear:function(){return(new Date).getFullYear()},availableTypes:function(){var t=Array.from(new Set(this.entries.map((function(t){return t.type})))),e=Object.keys(this.typeLabels);return t.sort((function(t,i){var r=e.indexOf(t),n=e.indexOf(i);return-1===r&&-1===n?t.localeCompare(i):-1===r?1:-1===n?-1:r-n}))},filteredEntries:function(){return this.filterByYear(this.filterByTypes(this.entries))},hasActiveFilters:function(){var t=this.yearFilter>0,e=this.activeSkills.length>0,i=this.activeTypes.length>0,r=this.sortOrder!==d;return t||e||i||r}},watch:{allSkills:{immediate:!0,handler:function(t){if(this.activeSkills.length){var e=new Set(t),i=this.activeSkills.filter((function(t){return e.has(t)}));i.length!==this.activeSkills.length&&(this.activeSkills=i)}}},filtersPayload:{immediate:!0,handler:function(t){this.$emit("filtersChanged",t)}}},methods:{toggleExpansion:function(){this.setExpandedState(!this.isExpanded)},setExpandedState:function(t){this.isExpanded!==t&&(this.isExpanded=t)},filterByYear:function(t){var e=this;return this.yearFilter?t.filter((function(t){var i,r,n=null===t||void 0===t||null===(i=t.data)||void 0===i||null===(i=i.role)||void 0===i?void 0:i.startDate;if(!n)return!1;var l=(null===t||void 0===t||null===(r=t.data)||void 0===r||null===(r=r.role)||void 0===r?void 0:r.endDate)||new Date,a=new Date(n).getFullYear(),s=new Date(l).getFullYear();return a<=e.yearFilter&&s>=e.yearFilter})):t},filterByTypes:function(t){var e=this;return this.activeTypes.length?t.filter((function(t){return e.activeTypes.includes(t.type)})):t},toggleType:function(t){var e=this.activeTypes.indexOf(t);-1===e?this.activeTypes.push(t):this.activeTypes.splice(e,1)},toggleSkill:function(t,e){var i=t.indexOf(e);-1===i?t.push(e):t.splice(i,1)},handleSkillSelection:function(t){this.toggleSkill(this.activeSkills,t)},clearFilters:function(){this.yearFilter=0,this.activeSkills=[],this.clearTypes(),this.sortOrder=d},clearTypes:function(){this.activeTypes=[]}}},h=v,y=(i("3fc3"),i("2877")),k=Object(y["a"])(h,r,n,!1,null,"2b3ecec0",null);e["default"]=k.exports},"3fc3":function(t,e,i){"use strict";i("2bb9")}}]);