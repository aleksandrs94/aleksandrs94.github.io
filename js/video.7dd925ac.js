(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["video"],{"4d4e":function(e,t,n){},9303:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"video-wrap"},[t("div",{attrs:{id:"yt-video"}},[t("youtube",{ref:"youtube",attrs:{"video-id":e.videoId,"player-vars":e.playerVars,resize:!0,nocookie:!0,"fit-parent":!0},on:{playing:e.onPlay,ended:function(t){return e.onEnd(!0)}}})],1),t("VideoProgress",{attrs:{duration:e.calculatedDuration,"current-time":e.calculatedCurrent}}),t("VideoControls",{attrs:{"is-muted":e.isMuted,"is-ended":e.isEnded},on:{muteClicked:e.toggleMute,replayClicked:e.replay}})],1)},i=[],a=n("c14f"),u=n("1da1"),s=(n("a9e3"),n("d3b7"),n("3ca3"),n("ddb0"),function(){return n.e("progress").then(n.bind(null,"2d37"))}),l=function(){return Promise.all([n.e("vendors"),n.e("controls")]).then(n.bind(null,"5f36"))},o={name:"VideoComponent",components:{VideoProgress:s,VideoControls:l},data:function(){return{timeoutHandler:null,intervalHandler:null,isEnded:!1,isMuted:!0,updateIntervalSec:.125,playDelaySec:0,duration:0,currentTime:0,videoId:this.ytVideoId,playerVars:{autoplay:1,color:"white",controls:0,disablekb:1,enablejsapi:1,end:this.endTime,fs:0,modestbranding:1,origin:"https://aleksandrs94.github.io/",rel:0,start:this.startTime}}},created:function(){var e=this;return Object(u["a"])(Object(a["a"])().m((function t(){return Object(a["a"])().w((function(t){while(1)switch(t.n){case 0:e.timeoutHandler=setTimeout((function(){e.toggleMute(!0),e.togglePlay(!0)}),1e3*e.playDelaySec);case 1:return t.a(2)}}),t)})))()},beforeDestroy:function(){this.intervalHandler&&clearTimeout(this.intervalHandler),this.timeoutHandler&&clearInterval(this.timeoutHandler)},props:{ytVideoId:{type:String,default:null},startTime:{type:Number,default:0},endTime:{type:Number,default:0}},methods:{toggleMute:function(e){e?this.player.mute():this.player.unMute(),this.isMuted=e},togglePlay:function(e){var t=this;return Object(u["a"])(Object(a["a"])().m((function n(){return Object(a["a"])().w((function(n){while(1)switch(n.n){case 0:if(!e){n.n=2;break}return n.n=1,t.player.playVideo();case 1:n.n=3;break;case 2:t.player.pauseVideo();case 3:return n.a(2)}}),n)})))()},replay:function(){this.player.seekTo(this.startTime,!0),this.togglePlay(!0)},onPlay:function(){var e=this;return Object(u["a"])(Object(a["a"])().m((function t(){var n;return Object(a["a"])().w((function(t){while(1)switch(t.n){case 0:if(e.duration){t.n=2;break}return e.player.setLoop(!0),n=Math,t.n=1,e.player.getDuration();case 1:e.duration=n.floor.call(n,t.v);case 2:if(e.onEnd(!1),e.intervalHandler){t.n=4;break}return t.n=3,e.player.getCurrentTime();case 3:e.currentTime=t.v,e.intervalHandler=setInterval(Object(u["a"])(Object(a["a"])().m((function t(){return Object(a["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,e.player.getCurrentTime();case 1:e.currentTime=t.v,Math.ceil(e.calculatedCurrent)>=e.calculatedDuration&&e.onEnd(!0);case 2:return t.a(2)}}),t)}))),1e3*e.updateIntervalSec);case 4:return t.a(2)}}),t)})))()},onEnd:function(e){this.isEnded!==e&&(this.isEnded=e,this.$emit("videoEnded",e),this.isEnded&&(this.currentTime=this.calculatedDuration+this.startTime,this.intervalHandler&&(clearTimeout(this.intervalHandler),this.intervalHandler=null)))}},computed:{player:function(){return this.$refs.youtube.player},calculatedDuration:function(){return this.endTime?this.endTime-this.startTime:this.duration-this.startTime},calculatedCurrent:function(){return this.currentTime-this.startTime}}},c=o,d=(n("fc95"),n("2877")),h=Object(d["a"])(c,r,i,!1,null,"7bbabf42",null);t["default"]=h.exports},fc95:function(e,t,n){"use strict";n("4d4e")}}]);