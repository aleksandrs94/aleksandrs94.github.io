!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};t.SENTRY_RELEASE={id:"07a3d9cdcdba8358633d733c747ef3f8e6e1e6ef"};var e=(new t.Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="d4f5bdab-635e-43a9-83db-eefc43865807",t._sentryDebugIdIdentifier="sentry-dbid-d4f5bdab-635e-43a9-83db-eefc43865807")}catch(t){}}(),(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["doughnut-chart"],{"25dc":function(t,e,r){"use strict";r("52f6")},"3fba":function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"d",(function(){return a})),r.d(e,"c",(function(){return l})),r.d(e,"a",(function(){return s}));var n=864e5,i=30.4375;function o(t){if(t<=0)return"Less than a month";if(t<12)return"".concat(t," month").concat(t>1?"s":"");var e=Math.floor(t/12),r=t%12;return r?"".concat(e," year").concat(e>1?"s":""," ").concat(r," month").concat(r>1?"s":""):"".concat(e," year").concat(e>1?"s":"")}function a(t,e){var r=new Date(t),i=new Date(e);if(Number.isNaN(r.getTime())||Number.isNaN(i.getTime()))return 0;var o=12*(i.getFullYear()-r.getFullYear())+(i.getMonth()-r.getMonth()),a=new Date(r);a.setMonth(r.getMonth()+o);var l=Math.ceil((i-a)/n);return l>=1&&(o+=1),Math.max(0,o)}function l(t){var e=Number(t)||0;if(e<=0)return 0;var r=Math.ceil(e/i);return r*i}function s(t){var e=l(t),r=Math.ceil(e/i);return o(r)}},"52f6":function(t,e,r){},e5e9:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"doughnut-chart"},[e("div",{staticClass:"chart-header"},[e("nav",{staticClass:"breadcrumbs",attrs:{"aria-label":"Chart breadcrumbs"}},[t.isDrilledDown&&!t.isSingleLevelMode?e("button",{staticClass:"breadcrumbs__back",attrs:{type:"button","aria-label":"Go back one level"},on:{click:t.resetDrillDown}},[t._v(" ← ")]):t._e(),e("ol",{staticClass:"breadcrumbs__list"},[e("li",{staticClass:"breadcrumbs__item",class:[!t.isDrilledDown||t.isSingleLevelMode?"breadcrumbs__current":"breadcrumbs__link"],attrs:{role:"button","aria-current":t.isDrilledDown?null:"page"},on:{click:t.resetDrillDown,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.resetDrillDown.apply(null,arguments)}}},[t._v(" Skills ")]),t.isDrilledDown&&!t.isSingleLevelMode?e("li",{staticClass:"breadcrumbs__item breadcrumbs__separator",attrs:{"aria-hidden":"true"}},[t._v(" / ")]):t._e(),e("li",{staticClass:"breadcrumbs__item breadcrumbs__current",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.selectedGroup)+" ")])])]),e("p",{staticClass:"chart-subtitle"},[t._v(" "+t._s(t.subtitle)+" ")])]),t.hasData?e("div",{staticClass:"chart-content"},[e("div",{staticClass:"chart-canvas-wrapper"},[e("canvas",{ref:"chartCanvas",attrs:{"aria-label":"Skills duration chart",role:"img"}})]),e("ul",{staticClass:"legend",attrs:{"aria-label":"Chart legend"}},t._l(t.legendItems,(function(r,n){return e("li",{key:r.label},[e("button",{staticClass:"legend-item",attrs:{type:"button",disabled:t.isDrilledDown||t.isSingleLevelMode},on:{click:function(e){return t.handleLegendClick(r.label)}}},[e("span",{staticClass:"swatch",style:{backgroundColor:t.colorAt(n)}}),e("span",{staticClass:"label"},[t._v(" "+t._s(r.label)+" "),t.isDrilledDown||t.isSingleLevelMode?t._e():[t._v("("+t._s(r.skillsCount||0)+")")]],2),e("span",{staticClass:"value"},[t._v(t._s(t.formatItemValue(r.value)))])])])})),0)]):e("div",{staticClass:"empty-state"},[t._v(" No skill duration data for current filters. ")])])},i=[],o=r("3fba");function a(t){return u(t)||s(t)||p(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function u(t){if(Array.isArray(t))return m(t)}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var s=n&&n.prototype instanceof l?n:l,u=Object.create(s.prototype);return d(u,"_invoke",function(r,n,i){var o,l,s,u=0,c=i||[],d=!1,h={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,r){return o=e,l=0,s=t,h.n=r,a}};function f(r,n){for(l=r,s=n,e=0;!d&&u&&!i&&e<c.length;e++){var i,o=c[e],f=h.p,v=o[2];r>3?(i=v===n)&&(s=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=t):o[0]<=f&&((i=r<2&&f<o[1])?(l=0,h.v=n,h.n=o[1]):f<v&&(i=r<3||o[0]>n||n>v)&&(o[4]=r,o[5]=n,h.n=v,l=0))}if(i||r>1)return a;throw d=!0,n}return function(i,c,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&f(c,v),l=c,s=v;(e=l<2?t:s)||!d;){o||(l?l<3?(l>1&&(h.n=-1),f(l,s)):h.n=s:h.v=s);try{if(u=2,o){if(l||(i="next"),e=o[i]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,l<2&&(l=0)}else 1===l&&(e=o.return)&&e.call(o),l<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),l=1);o=t}else if((e=(d=h.n<0)?s:r.call(n,h))!==a)break}catch(e){o=t,l=1,s=e}finally{u=1}}return{value:e,done:d}}}(r,i,o),!0),u}var a={};function l(){}function s(){}function u(){}e=Object.getPrototypeOf;var h=[][n]?e(e([][n]())):(d(e={},n,(function(){return this})),e),f=u.prototype=l.prototype=Object.create(h);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,d(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=u,d(f,"constructor",u),d(u,"constructor",s),s.displayName="GeneratorFunction",d(u,i,"GeneratorFunction"),d(f),d(f,i,"Generator"),d(f,n,(function(){return this})),d(f,"toString",(function(){return"[object Generator]"})),(c=function(){return{w:o,m:v}})()}function d(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}d=function(t,e,r,n){function o(e,r){d(t,e,(function(t){return this._invoke(e,r,t)}))}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},d(t,e,r,n)}function h(t,e,r,n,i,o,a){try{var l=t[o](a),s=l.value}catch(t){return void r(t)}l.done?e(s):Promise.resolve(s).then(n,i)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){h(o,n,i,a,l,"next",t)}function l(t){h(o,n,i,a,l,"throw",t)}a(void 0)}))}}function v(t,e){return g(t)||y(t,e)||p(t,e)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t,e){if(t){if("string"==typeof t)return m(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function y(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,l=[],s=!0,u=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(t){u=!0,i=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function g(t){if(Array.isArray(t))return t}var C={name:"DoughnutChart",props:{groupedSkills:{type:Object,default:function(){return{}}},activeSkills:{type:Array,default:function(){return[]}}},data:function(){return{ChartClass:null,chartInstance:null,chartObserver:null,selectedGroup:null,colorPalette:[]}},computed:{isSingleLevelMode:function(){return this.activeSkills.length>0},isDrilledDown:function(){return Boolean(this.selectedGroup)},subtitle:function(){return this.isSingleLevelMode?"selection by duration":this.isDrilledDown?"by duration":"grouped and distributed by duration"},groupItems:function(){return Object.entries(this.groupedSkills).map((function(t){var e=v(t,2),r=e[0],n=e[1];return{label:r,value:Number(null===n||void 0===n?void 0:n.totalDuration)||0,skillsCount:Number(null===n||void 0===n?void 0:n.skillsCount)||Object.keys((null===n||void 0===n?void 0:n.skills)||{}).length}})).filter((function(t){return t.value>0})).sort((function(t,e){return e.value-t.value}))},skillItems:function(){var t,e=(null===(t=this.groupedSkills)||void 0===t||null===(t=t[this.selectedGroup])||void 0===t?void 0:t.skills)||{};return Object.entries(e).map((function(t){var e=v(t,2),r=e[0],n=e[1];return{label:r,value:Number(null===n||void 0===n?void 0:n.duration)||0,entries:Array.isArray(null===n||void 0===n?void 0:n.entries)?n.entries:[]}})).filter((function(t){return t.value>0})).sort((function(t,e){return e.value-t.value}))},singleLevelSkillItems:function(){return Object.values(this.groupedSkills).flatMap((function(t){return Object.entries((null===t||void 0===t?void 0:t.skills)||{})})).map((function(t){var e=v(t,2),r=e[0],n=e[1];return{label:r,value:Number(null===n||void 0===n?void 0:n.duration)||0,entries:Array.isArray(null===n||void 0===n?void 0:n.entries)?n.entries:[]}})).filter((function(t){return t.value>0})).sort((function(t,e){return e.value-t.value}))},currentItems:function(){return this.isSingleLevelMode?this.singleLevelSkillItems:this.isDrilledDown?this.skillItems:this.groupItems},hasData:function(){return this.currentItems.length>0},legendItems:function(){return this.currentItems},groupTotalDuration:function(){return this.groupItems.reduce((function(t,e){return t+e.value}),0)}},watch:{groupedSkills:{deep:!0,handler:function(){this.ensureValidSelectedGroup(),this.renderChart()}},selectedGroup:function(){this.isSingleLevelMode&&this.selectedGroup?this.selectedGroup=null:this.renderChart()},activeSkills:function(){this.isSingleLevelMode&&this.selectedGroup?this.selectedGroup=null:this.renderChart()}},mounted:function(){this.colorPalette=this.readColorPalette(),this.setupChartVisibilityObserver()},beforeDestroy:function(){this.teardownChartVisibilityObserver(),this.destroyChart()},methods:{loadChartLibrary:function(){var t=this;return f(c().m((function e(){var n,i,o,a,l,s;return c().w((function(e){while(1)switch(e.n){case 0:if(!t.ChartClass){e.n=1;break}return e.a(2,t.ChartClass);case 1:return e.n=2,r.e("chunk-2d0c49e8").then(r.bind(null,"3c35"));case 2:return n=e.v,i=n.Chart,o=n.ArcElement,a=n.DoughnutController,l=n.Tooltip,s=n.Legend,i.register(o,a,l,s),t.ChartClass=i,e.a(2,t.ChartClass)}}),e)})))()},setupChartVisibilityObserver:function(){var t=this,e=this.$el;e&&("IntersectionObserver"in window?(this.chartObserver=new IntersectionObserver((function(e){var r=e[0];null!==r&&void 0!==r&&r.isIntersecting&&(t.loadChartLibrary().then((function(){return t.renderChart()})),t.teardownChartVisibilityObserver())}),{root:null,threshold:.1}),this.chartObserver.observe(e)):this.loadChartLibrary().then((function(){return t.renderChart()})))},teardownChartVisibilityObserver:function(){this.chartObserver&&(this.chartObserver.disconnect(),this.chartObserver=null)},readColorPalette:function(){var t=this.$el;if(!t)return[];var e=window.getComputedStyle(t),r=["--chart-color-1","--chart-color-2","--chart-color-3","--chart-color-4","--chart-color-5","--chart-color-6","--chart-color-7","--chart-color-8","--chart-color-9","--chart-color-10","--chart-color-11","--chart-color-12","--chart-color-13","--chart-color-14"];return r.map((function(t){return e.getPropertyValue(t).trim()})).filter(Boolean)},colorAt:function(t){return this.colorPalette.length?this.colorPalette[t%this.colorPalette.length]:""},datasetColors:function(){var t=this;return this.currentItems.map((function(e,r){return t.colorAt(r)}))},ensureValidSelectedGroup:function(){var t,e=this;if(this.selectedGroup)if(this.isSingleLevelMode)this.selectedGroup=null;else{var r=Boolean(null===(t=this.groupedSkills)||void 0===t?void 0:t[this.selectedGroup]),n=this.groupItems.some((function(t){return t.label===e.selectedGroup}));r&&n||(this.selectedGroup=null)}},formatDuration:function(t){return Object(o["a"])(t)},formatPercentage:function(t,e){return e?"".concat((t/e*100).toFixed(1),"%"):"0%"},formatItemValue:function(t){return this.isDrilledDown||this.isSingleLevelMode?this.formatDuration(t):this.formatPercentage(t,this.groupTotalDuration)},formatTooltipEntries:function(t){if(!this.isDrilledDown&&!this.isSingleLevelMode)return[];var e=(null===t||void 0===t?void 0:t.entries)||[];if(!e.length)return[];var r=e.length||0,n=1===r?"entry":"entries";return["Based on ".concat(r," ").concat(n,":")].concat(a(e.map((function(t){return"• ".concat(t)}))))},handleLegendClick:function(t){this.isDrilledDown||this.isSingleLevelMode||(this.selectedGroup=t)},resetDrillDown:function(){this.selectedGroup=null},handleChartClick:function(t){if(!this.isDrilledDown&&!this.isSingleLevelMode&&this.chartInstance){var e=this.chartInstance.getElementsAtEventForMode(t,"nearest",{intersect:!0},!0);if(e.length){var r=v(e,1),n=r[0].index,i=this.currentItems[n];i&&(this.selectedGroup=i.label)}}},destroyChart:function(){this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null)},renderChart:function(){var t=this;this.$nextTick((function(){if(t.destroyChart(),t.ChartClass&&t.hasData&&t.$refs.chartCanvas){var e=t.$refs.chartCanvas.getContext("2d");t.chartInstance=new t.ChartClass(e,{type:"doughnut",data:{labels:t.currentItems.map((function(t){return t.label})),datasets:[{data:t.currentItems.map((function(t){return t.value})),backgroundColor:t.datasetColors(),borderWidth:4,borderColor:"#1a1a1a",hoverBackgroundColor:"#000"}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"45%",plugins:{legend:{display:!1},tooltip:{callbacks:{title:function(e){var r,n,i,o,a=(null===(r=t.currentItems)||void 0===r||null===(r=r[null===(n=e[0])||void 0===n?void 0:n.dataIndex])||void 0===r?void 0:r.label)||"";return a+(t.isDrilledDown||t.isSingleLevelMode?"":" (".concat((null===(i=t.currentItems)||void 0===i||null===(i=i[null===(o=e[0])||void 0===o?void 0:o.dataIndex])||void 0===i?void 0:i.skillsCount)||0,")"))},label:function(e){var r,n=(null===(r=t.currentItems)||void 0===r||null===(r=r[null===e||void 0===e?void 0:e.dataIndex])||void 0===r?void 0:r.value)||0;return t.formatItemValue(n)},afterLabel:function(){return t.isDrilledDown||t.isSingleLevelMode?["\n"]:[]},afterBody:function(e){var r,n,i=null===(r=t.currentItems)||void 0===r?void 0:r[null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.dataIndex];return t.formatTooltipEntries(i)}}}},onClick:t.handleChartClick}})}}))}}},w=C,k=(r("25dc"),r("2877")),D=Object(k["a"])(w,n,i,!1,null,"ad97ef74",null);e["default"]=D.exports}}]);